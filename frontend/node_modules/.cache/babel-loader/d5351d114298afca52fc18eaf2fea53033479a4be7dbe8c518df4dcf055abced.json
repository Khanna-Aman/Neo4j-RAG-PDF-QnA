{"ast":null,"code":"var _jsxFileName = \"D:\\\\Aman\\\\React\\\\pdf-rag-app-v2\\\\frontend\\\\src\\\\components\\\\UploadPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport axios from 'axios';\nimport './UploadPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploadPage = () => {\n  _s();\n  const [uploadStatus, setUploadStatus] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [uploadedDocuments, setUploadedDocuments] = useState([]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    accept: {\n      'application/pdf': ['.pdf']\n    },\n    multiple: false,\n    onDrop: handleFileUpload\n  });\n  async function handleFileUpload(acceptedFiles) {\n    if (acceptedFiles.length === 0) return;\n    const file = acceptedFiles[0];\n    const formData = new FormData();\n    formData.append('pdf', file);\n    setUploading(true);\n    setUploadStatus('');\n    try {\n      const response = await axios.post('/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setUploadStatus(`‚úÖ Success: ${response.data.message}`);\n      setUploadedDocuments(prev => [...prev, {\n        id: response.data.docId,\n        name: file.name,\n        size: file.size,\n        entitiesStored: response.data.entitiesStored,\n        uploadTime: new Date().toLocaleString()\n      }]);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setUploadStatus(`‚ùå Error: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message}`);\n    } finally {\n      setUploading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upload-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Upload PDF Documents\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      className: `dropzone ${isDragActive ? 'active' : ''} ${uploading ? 'uploading' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), uploading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-progress\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Processing PDF...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropzone-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-icon\",\n          children: \"\\uD83D\\uDCC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: isDragActive ? 'Drop the PDF here...' : 'Drag & drop a PDF file here, or click to select'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"upload-hint\",\n          children: \"Only PDF files are supported\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), uploadStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `upload-status ${uploadStatus.includes('‚úÖ') ? 'success' : 'error'}`,\n      children: uploadStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this), uploadedDocuments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"uploaded-documents\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Recently Uploaded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"documents-grid\",\n        children: uploadedDocuments.map((doc, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"document-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: doc.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Size: \", (doc.size / 1024 / 1024).toFixed(2), \" MB\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Entities: \", doc.entitiesStored]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Uploaded: \", doc.uploadTime]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 33\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n_s(UploadPage, \"B8ISpgFEIzgtPowHaF4E9qEQtVk=\", false, function () {\n  return [useDropzone];\n});\n_c = UploadPage;\nexport default UploadPage;\nvar _c;\n$RefreshReg$(_c, \"UploadPage\");","map":{"version":3,"names":["React","useState","useDropzone","axios","jsxDEV","_jsxDEV","UploadPage","_s","uploadStatus","setUploadStatus","uploading","setUploading","uploadedDocuments","setUploadedDocuments","getRootProps","getInputProps","isDragActive","accept","multiple","onDrop","handleFileUpload","acceptedFiles","length","file","formData","FormData","append","response","post","headers","data","message","prev","id","docId","name","size","entitiesStored","uploadTime","Date","toLocaleString","error","_error$response","_error$response$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","includes","map","doc","index","toFixed","_c","$RefreshReg$"],"sources":["D:/Aman/React/pdf-rag-app-v2/frontend/src/components/UploadPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport axios from 'axios';\r\nimport './UploadPage.css';\r\n\r\nconst UploadPage = () => {\r\n    const [uploadStatus, setUploadStatus] = useState('');\r\n    const [uploading, setUploading] = useState(false);\r\n    const [uploadedDocuments, setUploadedDocuments] = useState([]);\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        accept: {\r\n            'application/pdf': ['.pdf']\r\n        },\r\n        multiple: false,\r\n        onDrop: handleFileUpload\r\n    });\r\n\r\n    async function handleFileUpload(acceptedFiles) {\r\n        if (acceptedFiles.length === 0) return;\r\n\r\n        const file = acceptedFiles[0];\r\n        const formData = new FormData();\r\n        formData.append('pdf', file);\r\n\r\n        setUploading(true);\r\n        setUploadStatus('');\r\n\r\n        try {\r\n            const response = await axios.post('/upload', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            });\r\n\r\n            setUploadStatus(`‚úÖ Success: ${response.data.message}`);\r\n            setUploadedDocuments(prev => [...prev, {\r\n                id: response.data.docId,\r\n                name: file.name,\r\n                size: file.size,\r\n                entitiesStored: response.data.entitiesStored,\r\n                uploadTime: new Date().toLocaleString()\r\n            }]);\r\n        } catch (error) {\r\n            setUploadStatus(`‚ùå Error: ${error.response?.data?.error || error.message}`);\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"upload-page\">\r\n            <h2>Upload PDF Documents</h2>\r\n\r\n            <div {...getRootProps()} className={`dropzone ${isDragActive ? 'active' : ''} ${uploading ? 'uploading' : ''}`}>\r\n                <input {...getInputProps()} />\r\n                {uploading ? (\r\n                    <div className=\"upload-progress\">\r\n                        <div className=\"spinner\"></div>\r\n                        <p>Processing PDF...</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"dropzone-content\">\r\n                        <div className=\"upload-icon\">üìÑ</div>\r\n                        <p>\r\n                            {isDragActive\r\n                                ? 'Drop the PDF here...'\r\n                                : 'Drag & drop a PDF file here, or click to select'}\r\n                        </p>\r\n                        <p className=\"upload-hint\">Only PDF files are supported</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {uploadStatus && (\r\n                <div className={`upload-status ${uploadStatus.includes('‚úÖ') ? 'success' : 'error'}`}>\r\n                    {uploadStatus}\r\n                </div>\r\n            )}\r\n\r\n            {uploadedDocuments.length > 0 && (\r\n                <div className=\"uploaded-documents\">\r\n                    <h3>Recently Uploaded</h3>\r\n                    <div className=\"documents-grid\">\r\n                        {uploadedDocuments.map((doc, index) => (\r\n                            <div key={index} className=\"document-card\">\r\n                                <h4>{doc.name}</h4>\r\n                                <p>Size: {(doc.size / 1024 / 1024).toFixed(2)} MB</p>\r\n                                <p>Entities: {doc.entitiesStored}</p>\r\n                                <p>Uploaded: {doc.uploadTime}</p>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UploadPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}